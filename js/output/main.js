function createUser(){var a=document.getElementById("name").value,b=document.getElementById("email").value;currentUser=new User(a,b)}var currentUser,quiz;window.onload=function(){var a=[new Question("All javascript objects inherently have a",["prototype","class","model","view"],"prototype"),new Question("Referencing a variable in a parent scope is called a",["refernce","recursive variable","closure","error"],"closure"),new Question("A parent element can handle an event for a child element",["true","false"],"true"),new Question("JSON and JavaScript objects are EXACTLY the same",["true","false"],"false")],b=document.getElementById("user-setup");b.addEventListener("click",function(){createUser(),quiz=new Quiz(currentUser,a),quiz.init()},!1)};var Question=function(a,b,c){this.question=a,this.choices=b,this.correctAnswer=c,this.userAnswer};Question.prototype={createQuestionHtml:function(a,b){var c="q-"+a;document.getElementById("question-title").innerText=this.question;for(var d="",e=0;e<this.choices.length;e++)d+="<input class='question-input' name='"+c+"' type=\"radio\" value='"+this.choices[e]+"'>"+this.choices[e]+"</input> <br/>";var f=a!==b-1?"<button id='next-button'>Next Question</button>":"<button id='next-button'>Finish Quiz</button>";return d+=f},saveUserAnswer:function(a){for(var b=this,c=document.querySelectorAll("input[name="+a+"]"),d=0;d<c.length;d++){var e=c[d];e.addEventListener("click",function(){b.userAnswer=this.value},!1)}}};var Quiz=function(a,b){this.currentUser=a,this.questions=b,this.currentQuestion=0};Quiz.prototype={init:function(){document.getElementById("user-info").style.display="none",this.loadQuestion()},loadQuestion:function(){var a=this.questions[this.currentQuestion];document.getElementById("current-question").innerHTML=a.createQuestionHtml(this.currentQuestion,this.questions.length),a.saveUserAnswer("q-"+this.currentQuestion),this.goToNextQuestion()},goToNextQuestion:function(){var a=this,b=document.getElementById("next-button");b.addEventListener("click",function(){a.getNextQuestion()})},getNextQuestion:function(){this.currentQuestion+=1,this.currentQuestion<this.questions.length?this.loadQuestion():(this.currentUser.getScore(this.questions),document.getElementById("quiz-main").style.display="none",this.currentUser.displayScore())}};var User=function(a,b){this.name=a,this.email=b,this.score=0};User.prototype={getScore:function(a){for(var b=100/a.length,c=0;c<a.length;c++)a[c].correctAnswer===a[c].userAnswer&&(this.score+=b)},displayScore:function(){document.getElementById("user-name").innerText=this.name,document.getElementById("user-score").innerText=this.score,document.getElementById("show-user-score").style.display="block"}};